{
  "project": {
    "name": "CLI Todo App",
    "description": "Minimal command-line todo application demonstrating two-agent harness pattern",
    "version": "1.0.0",
    "tech_stack": ["Python 3.9+", "argparse", "JSON", "pytest"],
    "total_features": 18,
    "total_epics": 4
  },
  "epics": {
    "EPIC-01": {
      "id": "EPIC-01",
      "name": "Core Task Operations",
      "description": "Fundamental task management functionality - add, list, and complete tasks",
      "priority": "critical",
      "status": "not_started",
      "features": [
        {
          "id": "TASK-001",
          "name": "Task Data Model",
          "description": "Define the core task data structure with id, text, completed status, and timestamp",
          "priority": "critical",
          "status": "not_started",
          "dependencies": [],
          "acceptance_criteria": [
            "Task has unique ID field",
            "Task has text/description field",
            "Task has completed boolean field",
            "Task has created_at timestamp field"
          ],
          "subtasks": [
            "Design task dictionary structure",
            "Define default values for new tasks",
            "Add timestamp generation logic"
          ],
          "estimated_hours": 0.5,
          "files_to_modify": ["todo.py"]
        },
        {
          "id": "TASK-002",
          "name": "Add Task Function",
          "description": "Implement function to create and add new tasks to the task list",
          "priority": "critical",
          "status": "not_started",
          "dependencies": ["TASK-001"],
          "acceptance_criteria": [
            "Function accepts task text as parameter",
            "Generates unique task ID",
            "Creates task with correct structure",
            "Adds task to in-memory list",
            "Returns created task object"
          ],
          "subtasks": [
            "Implement add_task(text) function",
            "Generate sequential task IDs",
            "Initialize tasks list if empty",
            "Validate task text is not empty"
          ],
          "estimated_hours": 1.0,
          "files_to_modify": ["todo.py"]
        },
        {
          "id": "TASK-003",
          "name": "List Tasks Function",
          "description": "Implement function to display all tasks with formatted output",
          "priority": "critical",
          "status": "not_started",
          "dependencies": ["TASK-001"],
          "acceptance_criteria": [
            "Function displays all tasks in order",
            "Shows task number for each task",
            "Shows checkbox [âœ“] for completed, [ ] for pending",
            "Shows task text",
            "Returns formatted string or prints to stdout"
          ],
          "subtasks": [
            "Implement list_tasks() function",
            "Format output with numbering",
            "Add checkbox symbols based on status",
            "Handle empty task list gracefully"
          ],
          "estimated_hours": 1.0,
          "files_to_modify": ["todo.py"]
        },
        {
          "id": "TASK-004",
          "name": "Complete Task Function",
          "description": "Implement function to mark tasks as completed by task number",
          "priority": "critical",
          "status": "not_started",
          "dependencies": ["TASK-001"],
          "acceptance_criteria": [
            "Function accepts task number as parameter",
            "Validates task number exists",
            "Marks task as completed (completed=True)",
            "Returns success/error status",
            "Shows helpful error for invalid task number"
          ],
          "subtasks": [
            "Implement complete_task(task_number) function",
            "Validate task number is within range",
            "Update task completed status",
            "Return appropriate error messages"
          ],
          "estimated_hours": 1.0,
          "files_to_modify": ["todo.py"]
        }
      ]
    },
    "EPIC-02": {
      "id": "EPIC-02",
      "name": "Data Persistence",
      "description": "JSON file storage for tasks with save, load, and error handling",
      "priority": "critical",
      "status": "not_started",
      "features": [
        {
          "id": "PERSIST-001",
          "name": "Save Tasks to JSON",
          "description": "Implement function to persist tasks to todos.json file",
          "priority": "critical",
          "status": "not_started",
          "dependencies": ["TASK-001"],
          "acceptance_criteria": [
            "Function saves tasks to todos.json",
            "Uses proper JSON formatting",
            "Handles write errors gracefully",
            "Creates file if it doesn't exist",
            "Overwrites file on each save"
          ],
          "subtasks": [
            "Implement save_tasks(tasks) function",
            "Use json.dump() with proper formatting",
            "Add error handling for file write failures",
            "Set indent for readable JSON output"
          ],
          "estimated_hours": 0.75,
          "files_to_modify": ["todo.py"]
        },
        {
          "id": "PERSIST-002",
          "name": "Load Tasks from JSON",
          "description": "Implement function to load existing tasks from todos.json",
          "priority": "critical",
          "status": "not_started",
          "dependencies": ["TASK-001"],
          "acceptance_criteria": [
            "Function loads tasks from todos.json",
            "Returns empty list if file doesn't exist",
            "Handles corrupted JSON gracefully",
            "Returns list of task dictionaries",
            "Preserves task data structure"
          ],
          "subtasks": [
            "Implement load_tasks() function",
            "Use json.load() to parse file",
            "Handle FileNotFoundError exception",
            "Handle JSONDecodeError for corrupted files",
            "Return empty list as default"
          ],
          "estimated_hours": 1.0,
          "files_to_modify": ["todo.py"]
        },
        {
          "id": "PERSIST-003",
          "name": "Auto-Save on Modifications",
          "description": "Automatically save tasks after add/complete operations",
          "priority": "high",
          "status": "not_started",
          "dependencies": ["PERSIST-001", "TASK-002", "TASK-004"],
          "acceptance_criteria": [
            "Tasks save after add operation",
            "Tasks save after complete operation",
            "No data loss between commands",
            "User doesn't need manual save command"
          ],
          "subtasks": [
            "Call save_tasks() after add_task()",
            "Call save_tasks() after complete_task()",
            "Ensure atomic write operations"
          ],
          "estimated_hours": 0.5,
          "files_to_modify": ["todo.py"]
        },
        {
          "id": "PERSIST-004",
          "name": "Data Validation and Migration",
          "description": "Validate loaded data structure and handle schema changes",
          "priority": "medium",
          "status": "not_started",
          "dependencies": ["PERSIST-002"],
          "acceptance_criteria": [
            "Validates task structure on load",
            "Handles missing fields gracefully",
            "Adds default values for missing fields",
            "Logs warnings for invalid data"
          ],
          "subtasks": [
            "Add validation function for task structure",
            "Set defaults for missing fields",
            "Handle legacy data formats"
          ],
          "estimated_hours": 0.75,
          "files_to_modify": ["todo.py"]
        }
      ]
    },
    "EPIC-03": {
      "id": "EPIC-03",
      "name": "CLI Interface",
      "description": "Command-line argument parsing, help text, and user interaction",
      "priority": "high",
      "status": "not_started",
      "features": [
        {
          "id": "CLI-001",
          "name": "Argument Parser Setup",
          "description": "Set up argparse with main command and subcommands",
          "priority": "critical",
          "status": "not_started",
          "dependencies": [],
          "acceptance_criteria": [
            "Uses argparse for CLI parsing",
            "Supports 'add', 'list', 'done' subcommands",
            "Shows help text with --help",
            "Handles unknown commands gracefully"
          ],
          "subtasks": [
            "Import and configure argparse",
            "Create main parser with description",
            "Add subparsers for commands",
            "Configure add subcommand with text argument",
            "Configure list subcommand",
            "Configure done subcommand with task number"
          ],
          "estimated_hours": 1.5,
          "files_to_modify": ["todo.py"]
        },
        {
          "id": "CLI-002",
          "name": "Main Entry Point",
          "description": "Implement main() function to route commands to appropriate handlers",
          "priority": "critical",
          "status": "not_started",
          "dependencies": ["CLI-001"],
          "acceptance_criteria": [
            "main() function parses arguments",
            "Routes to correct function based on command",
            "Loads tasks before command execution",
            "Handles exceptions and shows errors",
            "Returns appropriate exit codes"
          ],
          "subtasks": [
            "Implement main() function",
            "Parse command-line arguments",
            "Load tasks at startup",
            "Route to add/list/done handlers",
            "Add if __name__ == '__main__' block"
          ],
          "estimated_hours": 1.0,
          "files_to_modify": ["todo.py"]
        },
        {
          "id": "CLI-003",
          "name": "User Feedback Messages",
          "description": "Add confirmation and error messages for all operations",
          "priority": "high",
          "status": "not_started",
          "dependencies": ["TASK-002", "TASK-003", "TASK-004"],
          "acceptance_criteria": [
            "Shows 'Added: <task>' after add",
            "Shows 'Completed: <task>' after done",
            "Shows 'No tasks found' for empty list",
            "Shows clear error messages for failures",
            "All messages are user-friendly"
          ],
          "subtasks": [
            "Add success message for add command",
            "Add success message for done command",
            "Add empty state message for list",
            "Add error messages for invalid input"
          ],
          "estimated_hours": 0.75,
          "files_to_modify": ["todo.py"]
        },
        {
          "id": "CLI-004",
          "name": "Executable Setup",
          "description": "Make todo.py executable and add shebang for direct execution",
          "priority": "medium",
          "status": "not_started",
          "dependencies": ["CLI-002"],
          "acceptance_criteria": [
            "File has shebang line (#!/usr/bin/env python3)",
            "File has executable permissions",
            "Can run as ./todo.py",
            "Can run as 'todo' if in PATH"
          ],
          "subtasks": [
            "Add shebang to top of todo.py",
            "Document chmod +x instruction in README"
          ],
          "estimated_hours": 0.25,
          "files_to_modify": ["todo.py", "README.md"]
        }
      ]
    },
    "EPIC-04": {
      "id": "EPIC-04",
      "name": "Testing & Documentation",
      "description": "Unit tests, integration tests, and user documentation",
      "priority": "high",
      "status": "not_started",
      "features": [
        {
          "id": "TEST-001",
          "name": "Core Function Unit Tests",
          "description": "Write pytest tests for add, list, and complete functions",
          "priority": "high",
          "status": "not_started",
          "dependencies": ["TASK-002", "TASK-003", "TASK-004"],
          "acceptance_criteria": [
            "Test add_task() creates correct structure",
            "Test list_tasks() formats output correctly",
            "Test complete_task() updates status",
            "Test complete_task() validates task numbers",
            "All tests pass with pytest"
          ],
          "subtasks": [
            "Create test_todo.py file",
            "Write test_add_task() function",
            "Write test_list_tasks() function",
            "Write test_complete_task() function",
            "Write test_complete_invalid_task() function"
          ],
          "estimated_hours": 1.5,
          "files_to_modify": ["test_todo.py"]
        },
        {
          "id": "TEST-002",
          "name": "Persistence Tests",
          "description": "Write tests for save and load functionality",
          "priority": "high",
          "status": "not_started",
          "dependencies": ["PERSIST-001", "PERSIST-002"],
          "acceptance_criteria": [
            "Test save_tasks() creates valid JSON",
            "Test load_tasks() reads correctly",
            "Test load_tasks() handles missing file",
            "Test load_tasks() handles corrupted JSON",
            "Uses tmp_path fixture for isolated testing"
          ],
          "subtasks": [
            "Write test_save_tasks() function",
            "Write test_load_tasks() function",
            "Write test_load_missing_file() function",
            "Write test_load_corrupted_json() function",
            "Use pytest tmp_path for temp files"
          ],
          "estimated_hours": 1.5,
          "files_to_modify": ["test_todo.py"]
        },
        {
          "id": "TEST-003",
          "name": "Integration Tests",
          "description": "Write end-to-end tests simulating CLI usage",
          "priority": "medium",
          "status": "not_started",
          "dependencies": ["CLI-002", "PERSIST-003"],
          "acceptance_criteria": [
            "Test full workflow: add -> list -> complete -> list",
            "Test data persists across function calls",
            "Test CLI argument parsing",
            "All integration tests pass"
          ],
          "subtasks": [
            "Write test_full_workflow() function",
            "Test add + save + load sequence",
            "Test complete + save + load sequence",
            "Mock sys.argv for CLI testing"
          ],
          "estimated_hours": 1.0,
          "files_to_modify": ["test_todo.py"]
        },
        {
          "id": "DOC-001",
          "name": "README Documentation",
          "description": "Create comprehensive README with installation and usage instructions",
          "priority": "high",
          "status": "not_started",
          "dependencies": ["CLI-002"],
          "acceptance_criteria": [
            "README has project description",
            "README has installation instructions",
            "README has 3+ usage examples",
            "README shows expected output",
            "README has requirements section"
          ],
          "subtasks": [
            "Write project overview section",
            "Add installation instructions",
            "Add usage examples for add/list/done",
            "Add example output screenshots",
            "Document Python version requirements",
            "Add testing instructions"
          ],
          "estimated_hours": 1.0,
          "files_to_modify": ["README.md"]
        },
        {
          "id": "DOC-002",
          "name": "Code Documentation",
          "description": "Add docstrings to all functions and module-level documentation",
          "priority": "medium",
          "status": "not_started",
          "dependencies": ["TASK-002", "TASK-003", "TASK-004", "PERSIST-001", "PERSIST-002"],
          "acceptance_criteria": [
            "All functions have docstrings",
            "Docstrings follow Google/NumPy style",
            "Module has description at top",
            "Parameters and return values documented"
          ],
          "subtasks": [
            "Add module-level docstring",
            "Add docstrings to add_task()",
            "Add docstrings to list_tasks()",
            "Add docstrings to complete_task()",
            "Add docstrings to save_tasks()",
            "Add docstrings to load_tasks()"
          ],
          "estimated_hours": 0.75,
          "files_to_modify": ["todo.py"]
        }
      ]
    }
  },
  "metadata": {
    "created": "2025-12-14",
    "last_updated": "2025-12-14",
    "total_estimated_hours": 15.75,
    "critical_path": [
      "TASK-001",
      "TASK-002",
      "PERSIST-001",
      "PERSIST-003",
      "CLI-001",
      "CLI-002"
    ],
    "demo_features": [
      "TASK-002",
      "TASK-003",
      "PERSIST-001",
      "CLI-001"
    ],
    "notes": "This breakdown creates 18 granular features across 4 epics. The demo_features array highlights the minimal set for a 10-minute demo. Critical path shows dependencies for MVP completion."
  }
}
